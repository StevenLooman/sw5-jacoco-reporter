# Smallworld 5 JaCoCo reporter

[sw5-jacoco-reporter](https://github.com/StevenLooman/sw5-jacoco-reporter) is a tool to convert `jacoco.exec` generated by a Smallworld5 session to useful information for Magik development.


## Introduction

JaCoCo can generate can generate coverage reports, but those reports will contain internal classes, internal method names, and additionally generated classes which might be less interesting. This is due to the way Smallworld 5 generates Java Bytecode. While very valuable, reading these reports is a bit tedious.

It would be easier if the internal method names are converted to Magik method names, and possibly the additionally generated classes are removed/ignored.

This tool provides a means to convert back to the original Magik method names and optionally remove the additionally generated classes are removed/ignored.


## Usage

Options:

- --help
  - Show help.
- --product-dir \[path_to_directory\]
  - Path to your product.
- --jacoco-file \[path_to_file\]
  - Path to the `jacoco.exec` file.
- --html \[path_to_directory\]
  - Path to the directory to generate the HTML report in.
- --xml \[path_to_file\]
  - Path to the file to generate the XML at.
- --filter-primary
  - Filter primary classes, i.e., the class which does not hold any Magik methods.

To generate a HTML report:

```
$ java -jar sw5-jacoco-reporter.jar --product-dir sw_xsd_loader --jacoco-file sw_xsd_loader/jacoco.exec --html sw_xsd_loader/coveragereport
```

To generate a XML report:

```
$ java -jar sw5-jacoco-reporter.jar --product-dir sw_xsd_loader --jacoco-file sw_xsd_loader/jacoco.exec --xml sw_xsd_loader/coveragereport.xml
```


# Contributing

You can contribute by providing bug reports and/or pull requests via [GitHub](https://github.com/StevenLooman/sw5-jacoco-reporter).


# License

This tool is licensed under GPLv3.
